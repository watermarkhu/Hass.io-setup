play_spotify_spotcast:
  alias: Play a spotify playlist
  sequence:
  - service: spotcast.start
    data_template:
      entity_id: media_player.bedroom_speaker
      uri: >
        {% if is_state("input_select.spotify_playlist", "Morning Motivation") %} spotify:playlist:37i9dQZF1DXc5e2bJhV6pu 
        {% elif is_state("input_select.spotify_playlist", "Top of the morning") %} spotify:playlist:37i9dQZF1DWSWyJydK4fTU 
        {% elif is_state("input_select.spotify_playlist", "Morning Acoustic") %} spotify:playlist:37i9dQZF1DXdd3gw5QVjt9 
        {% elif is_state("input_select.spotify_playlist", "Wake Up Happy") %} spotify:playlist:37i9dQZF1DX0UrRvztWcAU 
        {% elif is_state("input_select.spotify_playlist", "Wake Up and Smell the Coffee") %} spotify:playlist:37i9dQZF1DXcxacyAXkQDu
        {% elif is_state("input_select.spotify_playlist", "Wake Up Gently") %} spotify:playlist:37i9dQZF1DX7cZxYLqLUJl
        {% endif %}

play_radio:
  alias: Play radio
  sequence:
  - service: media_player.play_media
    data_template:
      entity_id: media_player.bedroom_speaker
      media_content_id: >
        {% if is_state("input_select.radio_station", "Radio 538") %} http://18973.live.streamtheworld.com/RADIO538.mp3 
        {% elif is_state("input_select.radio_station", "Q-Music") %} http://icecast-qmusicnl-cdp.triple-it.nl/Qmusic_nl_live_96.mp3
        {% elif is_state("input_select.radio_station", "Q-Music Non-Stop") %} https://icecast-qmusicnl-cdp.triple-it.nl/Qmusic_nl_nonstop_96.mp3
        {% elif is_state("input_select.radio_station", "3FM") %} http://icecast.omroep.nl/3fm-bb-mp3
        {% elif is_state("input_select.radio_station", "100% NL") %} http://stream.100p.nl/100pctnl.mp3
        {% elif is_state("input_select.radio_station", "Veronica") %} http://20043.live.streamtheworld.com:3690/VERONICA_SC
        {% elif is_state("input_select.radio_station", "Sky Radio") %} http://19993.live.streamtheworld.com:80/SKYRADIO_SC
        {% elif is_state("input_select.radio_station", "Arrow Classic Rock") %} https://stream.gal.io/arrow
        {% elif is_state("input_select.radio_station", "SLAM! FM") %} https://stream.slam.nl/slam_mp3
        {% endif %}

      media_content_type: audio/mp4
play_podcast:
  alias: Play podcast
  sequence:
  - service: media_player.play_media
    data_template:
      entity_id: media_player.bedroom_speaker
      media_content_type: audio/mp4
      media_content_id: > 
        {% if is_state("input_select.morning_podcast", "NOS met het oog op morgen") %} {{ states.sensor.podcast_nos.state }} 
        {% elif is_state("input_select.morning_podcast", "NRC vandaag") %} {{ states.sensor.podcast_nrc.state }} 
        {% elif is_state("input_select.morning_podcast", "VOX today explained") %} {{ states.sensor.podcast_vox.state }} 
        {% elif is_state("input_select.morning_podcast", "TIMES the daily") %} {{ states.sensor.podcast_times.state }}
        {% endif %}
      
play_media:
  alias: Play media
  sequence:
    service: media_player.media_play
    data:
      entity_id: media_player.bedroom_speaker

pause_media:
  alias: Pause media
  sequence:
    service: media_player.media_pause
    data:
      entity_id: media_player.bedroom_speaker

alarm_wakeuplight:
  alias: Light sunrise
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 588
      brightness: 3
      transition: 450
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 588
      brightness: 43
      transition: 450
  - delay: 00:02:30
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 554
      brightness: 85
      transition: 450
  - delay: 00:02:30
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 520
      brightness: 128
      transition: 450
  - delay: 00:02:30
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 486
      brightness: 170
      transition: 450
  - delay: 00:02:30
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 452
      brightness: 213
      transition: 450
  - delay: 00:02:30
  - service: light.turn_on
    data:
      entity_id: light.wakeup_lights
      color_temp: 418
      brightness: 255
      transition: 450

alarm_toggle:
  alias: Toggle the alarm
  sequence:
  - service: input_select.select_option
    data_template:
      entity_id: input_select.alarm_state
      option: >
        {% if is_state("input_select.alarm_state", "Not set") %} Set 
        {% elif is_state("input_select.alarm_state", "Set") %} Not set 
        {% endif %}

alarm_snooze:
  alias: Snooze the alarm
  sequence:
  - service: input_select.select_option
    data:
      entity_id: input_select.alarm_state
      option: Snoozed
  - service: media_player.media_pause
    data:
      entity_id: media_player.bedroom_speaker
  - service: script.turn_off
    data:
      entity_id: script.alarm_wakeup
  - delay: 00:{{ states("input_number.snooze_time") | int }}:00
  - service: script.turn_on
    data:
      entity_id: script.alarm_wakeup

alarm_stop:
  alias: Stop alarm, play podcast
  sequence:
  - service: input_select.select_option
    data:
      entity_id: input_select.alarm_state
      option: Not set
  - service: script.turn_off
    data:
      entity_id: script.alarm_wakeup
  - service: script.turn_off
    data:
      entity_id: script.alarm_snooze
  - service: script.turn_on
    data:
      entity_id: script.pause_media
  - service: media_player.volume_set
    data:
      entity_id: media_player.bedroom_speaker
      volume_level: 0.25
  - service: script.turn_on
    data_template:
      entity_id: > 
      {% if is_state("input_boolean.switch_alarm_podcast", "on") %} script.play_podcast
      {% else %} script.pause_media 
      {% endif %}

button_cycler:
  alias: cycle through input select scenes
  sequence:
  - service: script.turn_on
    data_template:
      entity_id: '{% if is_state("input_select", "Normal") %} script.normal_light
        {% elif is_state("input_select.button_cycler", "Yellow") %} script.yellow_light
        {% elif is_state("input_select.button_cycler", "Evening") %} script.evening_light
        {% elif is_state("input_select.button_cycler", "Night") %} script.night_light
        {% elif is_state("input_select.button_cycler", "Movie") %} script.movie_light
        {% endif %}

        '
yellow_light:
  alias: Yellow light
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.desk
      brightness: 255
      color_temp: 600
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.bed
      brightness: 255
      color_temp: 800
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.door
      brightness: 255
      color_temp: 400
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.couch
      brightness: 255
      color_temp: 500
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.strip
      brightness: 255
      rgb_color:
      - 255
      - 235
      - 138
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.cabinet
      brightness: 55
      color_temp: 520
      transition: 2

evening_light:
  alias: Evening light
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.desk
      brightness: 255
      rgb_color:
      - 218
      - 17
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.bed
      brightness: 255
      rgb_color:
      - 10
      - 35
      - 100
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.door
      brightness: 255
      rgb_color:
      - 255
      - 11
      - 0
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.couch
      brightness: 255
      rgb_color:
      - 225
      - 126
      - 0
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.strip
      brightness: 255
      rgb_color:
      - 255
      - 104
      - 30
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.cabinet
      brightness: 255
      rgb_color:
      - 255
      - 63
      - 0
      transition: 2

night_light:
  alias: Night light
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.desk
      brightness: 55
      rgb_color:
      - 218
      - 58
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.bed
      brightness: 55
      rgb_color:
      - 255
      - 120
      - 0
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.door
      brightness: 55
      rgb_color:
      - 7
      - 98
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.couch
      brightness: 55
      rgb_color:
      - 255
      - 16
      - 0
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.strip
      brightness: 55
      rgb_color:
      - 168
      - 60
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.cabinet
      brightness: 3
      rgb_color:
      - 36
      - 36
      - 255
      transition: 2

movie_light:
  alias: Movie light
  sequence:
  - service: light.turn_off
    data:
      entity_id: light.desk
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.bed
      brightness: 55
      rgb_color:
      - 255
      - 21
      - 67
      transition: 2
  - service: light.turn_off
    data:
      entity_id: light.door
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.couch
      brightness: 55
      rgb_color:
      - 195
      - 123
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.strip
      brightness: 55
      rgb_color:
      - 40
      - 80
      - 255
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.cabinet
      brightness: 3
      rgb_color:
      - 190
      - 0
      - 255
      transition: 2

normal_light:
  alias: Normal light
  sequence:
  - service: light.turn_on
    data:
      entity_id: light.desk
      brightness: 200
      color_temp: 333
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.bed
      brightness: 200
      color_temp: 333
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.door
      brightness: 200
      color_temp: 333
      transition: 2
  - service: light.turn_on
    data:
      entity_id: light.couch
      brightness: 200
      color_temp: 333
      transition: 2
  - service: light.turn_off
    data:
      entity_id: light.strip
      transition: 2
  - service: light.turn_off
    data:
      entity_id: light.cabinet
      transition: 2

'1587722512847':
  alias: 2.B_blue_pulse_heart
  sequence:
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 0
        - 128
        - 255
        - 514
        - 70
      - RGBTransition:
        - 0
        - 128
        - 255
        - 514
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 0
        - 0
        - 128
        - 514
        - 70
      - RGBTransition:
        - 0
        - 0
        - 128
        - 514
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 137
        - 150
        - 240
        - 514
        - 70
      - RGBTransition:
        - 137
        - 150
        - 240
        - 514
        - 1
    entity_id: light.door
    service: yeelight.start_flow

'1587723701583':
  alias: 2.C_orange_pulse_heart
  sequence:
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 255
        - 100
        - 0
        - 514
        - 70
      - RGBTransition:
        - 255
        - 100
        - 0
        - 514
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 254
        - 158
        - 50
        - 514
        - 70
      - RGBTransition:
        - 254
        - 158
        - 50
        - 514
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
  - data:
      action: recover
      count: 100
      transitions:
      - RGBTransition:
        - 250
        - 69
        - 10
        - 514
        - 70
      - RGBTransition:
        - 250
        - 69
        - 10
        - 514
        - 1
    entity_id: light.door
    service: yeelight.start_flow

'1587724023014':
  alias: 2.E_blue_pulse_breathing
  sequence:
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 0
        - 128
        - 255
        - 2500
        - 100
      - RGBTransition:
        - 0
        - 128
        - 255
        - 2500
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 0
        - 0
        - 128
        - 2500
        - 100
      - RGBTransition:
        - 0
        - 0
        - 128
        - 2500
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 137
        - 150
        - 240
        - 2500
        - 100
      - RGBTransition:
        - 137
        - 150
        - 240
        - 2500
        - 1
    entity_id: light.door
    service: yeelight.start_flow
'1587726726565':
  alias: 2.F_orange_pulse_breathing
  sequence:
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 255
        - 100
        - 0
        - 2500
        - 100
      - RGBTransition:
        - 255
        - 100
        - 0
        - 2500
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 254
        - 158
        - 50
        - 2500
        - 100
      - RGBTransition:
        - 254
        - 158
        - 50
        - 2500
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
  - data:
      action: recover
      count: 10
      transitions:
      - RGBTransition:
        - 250
        - 69
        - 10
        - 2500
        - 100
      - RGBTransition:
        - 250
        - 69
        - 10
        - 2500
        - 1
    entity_id: light.door
    service: yeelight.start_flow
'1587727236128':
  alias: 2.D_white_pulse_breathing
  sequence:
  - data:
      action: recover
      count: 5
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 1
    entity_id: light.door
    service: yeelight.start_flow
  - data:
      action: recover
      count: 5
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 5
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 2500
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
'1587728472597':
  alias: 2.A_white_pulse_heart
  sequence:
  - data:
      action: recover
      count: 25
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 1
    entity_id: light.door
    service: yeelight.start_flow
  - data:
      action: recover
      count: 25
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 1
    entity_id: light.bed
    service: yeelight.start_flow
  - data:
      action: recover
      count: 25
      transitions:
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 100
      - RGBTransition:
        - 255
        - 255
        - 255
        - 514
        - 1
    entity_id: light.desk
    service: yeelight.start_flow
